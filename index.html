<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <style>
    :root {
      --bg-color: transparent;
      --transition-speed: 0.4s;
    }

    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: var(--bg-color);
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #container {
      position: relative;
      width: 100vw;
      height: 100vh;
      max-width: 800px;
      max-height: 800px;
    }

    img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      opacity: 0;
      transition: opacity var(--transition-speed) ease-in-out;
    }

    img.loaded {
      opacity: 1;
    }

    .loader {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 4px solid rgba(255,255,255,0.1);
      border-top: 4px solid #fff;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      display: none;
      z-index: 10;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>

  <div id="container">
    <div id="loader" class="loader"></div>
    <img id="gif" alt="GIF Animation">
  </div>

  <script>
    /**
     * üî• –ù–ê–°–¢–†–û–ô–ö–ò
     */
    const CONFIG = {
      // –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –≥–∏—Ñ–∫—É
      url: "https://media.tenor.com/a79FKdYtynQAAAAi/cat-sitting-cats.gif",
      // –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (3000 –º—Å = 3 —Å–µ–∫)
      checkInterval: 3000 
    };

    const gifElement = document.getElementById("gif");
    const loader = document.getElementById("loader");
    let currentUrl = "";

    function updateGif(newUrl) {
      if (newUrl === currentUrl) return;
      
      console.log("–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –Ω–æ–≤–∞—è —Å—Å—ã–ª–∫–∞, –æ–±–Ω–æ–≤–ª—è—é...");
      currentUrl = newUrl;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
      loader.style.display = "block";
      gifElement.classList.remove("loaded");

      // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏ –≤ —Ñ–æ–Ω–µ
      const tempImg = new Image();
      
      // –î–æ–±–∞–≤–ª—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á, —á—Ç–æ–±—ã –±—Ä–∞—É–∑–µ—Ä —Ç–æ—á–Ω–æ —Å–∫–∞—á–∞–ª —Ñ–∞–π–ª –∑–∞–Ω–æ–≤–æ
      const cacheBuster = `?t=${Date.now()}`;
      const finalUrl = newUrl.includes('?') ? `${newUrl}&cb=${Date.now()}` : `${newUrl}${cacheBuster}`;

      tempImg.onload = () => {
        gifElement.src = finalUrl;
        gifElement.classList.add("loaded");
        loader.style.display = "none";
      };

      tempImg.onerror = () => {
        loader.style.display = "none";
        console.error("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å GIF:", newUrl);
      };

      tempImg.src = finalUrl;
    }

    // –ü–µ—Ä–≤–∏—á–Ω—ã–π –∑–∞–ø—É—Å–∫
    function init() {
      updateGif(CONFIG.url);

      // –§–æ–Ω–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (–µ—Å–ª–∏ –≤—ã –º–µ–Ω—è–µ—Ç–µ CONFIG.url –≤ –∫–æ–¥–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏)
      // –í —Å–ª—É—á–∞–µ —Å GitHub Pages –∑–∞–¥–µ—Ä–∂–∫–∞ –≤—Å–µ —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Å–µ—Ä–≤–µ—Ä–æ–≤ GitHub.
      setInterval(() => {
        // –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–Ω–µ—à–Ω–µ–µ API –∏–ª–∏ —Ñ–∞–π–ª –¥–ª—è —Å–º–µ–Ω—ã —Å—Å—ã–ª–æ–∫, 
        // –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—é–¥–∞.
      }, CONFIG.checkInterval);
    }

    window.addEventListener('DOMContentLoaded', init);
  </script>

</body>
</html>

